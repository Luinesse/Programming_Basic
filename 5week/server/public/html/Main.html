<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luinesse</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/Main.css">
    <script>
        fetch('https://luinesse.store/api')
            .then((res) => res.json())
            .then((res) => {
                const board = document.querySelector('.article');
                res.forEach((row) => {
                    const divCell = document.createElement('div');
                    const style = {
                        display: 'flex',
                        justifyContent: 'space-between',
                        width: '50%',
                        alignItems: 'center'
                    };

                    for(const [key, value] of Object.entries(style)) {
                        divCell.style[key] = value;
                    }

                    ['title', 'article', 'username', 'boardDate'].forEach((key) => {
                        let name;
                        if(key === 'title') {
                            name = 'h3';
                        } else {
                            name = 'p'
                        }
                        const element = document.createElement(name);
                        const hStyle = {
                            overflow: 'hidden',
                            whiteSpace: 'nowrap',
                            textOverflow: 'ellipsis',
                            width: '25%',
                            textAlign: 'center'
                        };

                        for(const [key, value] of Object.entries(hStyle)) {
                            element.style[key] = value;
                        }
                        
                        if (key === 'boardDate') {
                            const dateValue = row[key].substring(0, 10);
                            element.textContent = dateValue;
                        } else {
                            element.textContent = row[key];
                        }
                        divCell.appendChild(element);
                    });
                    const hr = document.createElement('hr');
                    hr.style.width = '1000px';
                    board.appendChild(divCell);
                    board.appendChild(hr);
                });
            });
    </script>
</head>
<body>
    <div class="wrap">
        <div class="header">
            <div class="title">
                <h1 id="goMain">Luinesse</h1>
            </div>
            <div class="little-title">
                <p style="color:lavender">Luinesse의 개인 블로그</p>
            </div>
        </div>
        <div class="nav">
            <div class="category-button">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRjcXiVdBSOVXyX4Jkjtx8YqefPLnKzdipPJw&usqp=CAU">
            </div>
            <div class="nav-button">
                <ul style="list-style: none; padding: 4px 16px 4px 16px; margin: 0px 0px 0px 0px;">
                    <li style="float: left; margin-right: 20px;">
                        <a id="Main-page" aria-current="page" style="text-decoration: none;">
                            Main
                        </a>
                    </li>
                    <li style="float: left; margin-right: 20px;">
                        <a class="hi" id="Login-page"></a>
                    </li>
                    <li style="float: left; margin-right: 20px;">
                        <a class = "sign-text" id="Login-page" aria-current="page"></a>
                    </li>
                </ul>
            </div>
            <div class="search">
                <input type="text" placeholder="검색어 입력">
                <img src="https://s3.ap-northeast-2.amazonaws.com/cdn.wecode.co.kr/icon/search.png">
            </div>
        </div>
        <div class="section">
            <div class="article">

            </div>
            <div class="last-section">
                <div class="nav-gap"></div>
                <div class="section-page">
                    <ul style="list-style: none; padding: 4px 16px 4px 16px; margin: 0px 0px 0px 0px;">
                        <li style="float: left; margin-right: 20px;">
                            1
                        </li>
                    </ul>
                </div>
                <div class="write-button" id="write-btn">
                    <button>글 쓰기</button>
                </div>
            </div>
        </div>
        <div class="footer">
            <p>2022 하계방학 프로그래밍 기초 6주차 시작</p>
        </div>
        <div class="menu">
            <ul style="list-style: none; padding: 4px 16px 4px 16px; margin: 0px 0px 0px 0px">
                <li style="margin: 10px 0 10px 0;"><a>내가 쓴 글</a></li>
                <li><a>내가 쓴 댓글</a></li>
            </ul>
        </div>
    </div>
    <script src="../js/Main.js" defer=""></script>
</body>
</html>